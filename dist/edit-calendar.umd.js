!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["edit-calendar"]={},t.React)}(this,(function(t,e){"use strict";function n(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=n(e),a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i={exports:{}};i.exports=function(){var t=1e3,e=6e4,n=36e5,r="millisecond",a="second",i="minute",s="hour",o="day",u="week",c="month",l="quarter",f="year",d="date",h="Invalid Date",v=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},p=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},$={s:p,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),a=n%60;return(e<=0?"+":"-")+p(r,2,"0")+":"+p(a,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),a=e.clone().add(r,c),i=n-a<0,s=e.clone().add(r+(i?-1:1),c);return+(-(r+(n-a)/(i?a-s:s-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:f,w:u,d:o,D:d,h:s,m:i,s:a,ms:r,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",b={};b[g]=y;var M=function(t){return t instanceof w},S=function(t,e,n){var r;if(!t)return g;if("string"==typeof t)b[t]&&(r=t),e&&(b[t]=e,r=t);else{var a=t.name;b[a]=t,r=a}return!n&&r&&(g=r),r||!n&&g},D=function(t,e){if(M(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new w(n)},O=$;O.l=S,O.i=M,O.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var w=function(){function y(t){this.$L=S(t.locale,null,!0),this.parse(t)}var p=y.prototype;return p.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(v);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},p.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},p.$utils=function(){return O},p.isValid=function(){return!(this.$d.toString()===h)},p.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},p.isAfter=function(t,e){return D(t)<this.startOf(e)},p.isBefore=function(t,e){return this.endOf(e)<D(t)},p.$g=function(t,e,n){return O.u(t)?this[e]:this.set(n,t)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(t,e){var n=this,r=!!O.u(e)||e,l=O.p(t),h=function(t,e){var a=O.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?a:a.endOf(o)},v=function(t,e){return O.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},m=this.$W,y=this.$M,p=this.$D,$="set"+(this.$u?"UTC":"");switch(l){case f:return r?h(1,0):h(31,11);case c:return r?h(1,y):h(0,y+1);case u:var g=this.$locale().weekStart||0,b=(m<g?m+7:m)-g;return h(r?p-b:p+(6-b),y);case o:case d:return v($+"Hours",0);case s:return v($+"Minutes",1);case i:return v($+"Seconds",2);case a:return v($+"Milliseconds",3);default:return this.clone()}},p.endOf=function(t){return this.startOf(t,!1)},p.$set=function(t,e){var n,u=O.p(t),l="set"+(this.$u?"UTC":""),h=(n={},n[o]=l+"Date",n[d]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[s]=l+"Hours",n[i]=l+"Minutes",n[a]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],v=u===o?this.$D+(e-this.$W):e;if(u===c||u===f){var m=this.clone().set(d,1);m.$d[h](v),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else h&&this.$d[h](v);return this.init(),this},p.set=function(t,e){return this.clone().$set(t,e)},p.get=function(t){return this[O.p(t)]()},p.add=function(r,l){var d,h=this;r=Number(r);var v=O.p(l),m=function(t){var e=D(h);return O.w(e.date(e.date()+Math.round(t*r)),h)};if(v===c)return this.set(c,this.$M+r);if(v===f)return this.set(f,this.$y+r);if(v===o)return m(1);if(v===u)return m(7);var y=(d={},d[i]=e,d[s]=n,d[a]=t,d)[v]||1,p=this.$d.getTime()+r*y;return O.w(p,this)},p.subtract=function(t,e){return this.add(-1*t,e)},p.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=t||"YYYY-MM-DDTHH:mm:ssZ",a=O.z(this),i=this.$H,s=this.$m,o=this.$M,u=n.weekdays,c=n.months,l=function(t,n,a,i){return t&&(t[n]||t(e,r))||a[n].substr(0,i)},f=function(t){return O.s(i%12||12,t,"0")},d=n.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},v={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:O.s(o+1,2,"0"),MMM:l(n.monthsShort,o,c,3),MMMM:l(c,o),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:O.s(i,2,"0"),h:f(1),hh:f(2),a:d(i,s,!0),A:d(i,s,!1),m:String(s),mm:O.s(s,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:a};return r.replace(m,(function(t,e){return e||v[t]||a.replace(":","")}))},p.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},p.diff=function(r,d,h){var v,m=O.p(d),y=D(r),p=(y.utcOffset()-this.utcOffset())*e,$=this-y,g=O.m(this,y);return g=(v={},v[f]=g/12,v[c]=g,v[l]=g/3,v[u]=($-p)/6048e5,v[o]=($-p)/864e5,v[s]=$/n,v[i]=$/e,v[a]=$/t,v)[m]||$,h?g:O.a(g)},p.daysInMonth=function(){return this.endOf(c).$D},p.$locale=function(){return b[this.$L]},p.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=S(t,e,!0);return r&&(n.$L=r),n},p.clone=function(){return O.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},y}(),j=w.prototype;return D.prototype=j,[["$ms",r],["$s",a],["$m",i],["$H",s],["$W",o],["$M",c],["$y",f],["$D",d]].forEach((function(t){j[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),D.extend=function(t,e){return t.$i||(t(e,w,D),t.$i=!0),D},D.locale=S,D.isDayjs=M,D.unix=function(t){return D(1e3*t)},D.en=b[g],D.Ls=b,D.p={},D}();var s=i.exports;const o=t=>{const{value:e,onChange:n}=t;return r.default.createElement("div",{className:"hlc-datepicker-wrap"},r.default.createElement("div",{onClick:()=>{n(e.subtract(1,"month"))},className:"hlc-calendar-datepicker-btn"},r.default.createElement("i",{className:"hlc-calendar-icon hlc-calendar-iconicon-left"})),r.default.createElement("div",null,e.format("YYYY 年 MM 月")),r.default.createElement("div",{onClick:()=>{n(e.add(1,"month"))},className:"hlc-calendar-datepicker-btn"},r.default.createElement("i",{className:"hlc-calendar-icon hlc-calendar-iconicon-right"})),r.default.createElement("div",{className:"hlc-to-today"},r.default.createElement("span",{className:"hlc-to-today-text",role:"button",onClick:()=>{n(s())}},"今天")))};var u=function(t,e,n){var r=-1,a=t.length;e<0&&(e=-e>a?0:a+e),(n=n>a?a:n)<0&&(n+=a),a=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(a);++r<a;)i[r]=t[r+e];return i};var c=function(t,e){return t===e||t!=t&&e!=e},l="object"==typeof a&&a&&a.Object===Object&&a,f="object"==typeof self&&self&&self.Object===Object&&self,d=(l||f||Function("return this")()).Symbol,h=d,v=Object.prototype,m=v.hasOwnProperty,y=v.toString,p=h?h.toStringTag:void 0;var $=function(t){var e=m.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch(i){}var a=y.call(t);return r&&(e?t[p]=n:delete t[p]),a},g=Object.prototype.toString;var b=$,M=function(t){return g.call(t)},S=d?d.toStringTag:void 0;var D=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":S&&S in Object(t)?b(t):M(t)};var O=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},w=D,j=O;var N=function(t){if(!j(t))return!1;var e=w(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},E=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var x=/^(?:0|[1-9]\d*)$/;var _=c,k=function(t){return null!=t&&E(t.length)&&!N(t)},T=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&x.test(t))&&t>-1&&t%1==0&&t<e},Y=O;var A=/\s/;var C=function(t){for(var e=t.length;e--&&A.test(t.charAt(e)););return e},H=/^\s+/;var L=D,W=function(t){return null!=t&&"object"==typeof t};var F=function(t){return t?t.slice(0,C(t)+1).replace(H,""):t},I=O,U=function(t){return"symbol"==typeof t||W(t)&&"[object Symbol]"==L(t)},P=/^[-+]0x[0-9a-f]+$/i,J=/^0b[01]+$/i,Z=/^0o[0-7]+$/i,z=parseInt;var V=function(t){if("number"==typeof t)return t;if(U(t))return NaN;if(I(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=I(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=F(t);var n=J.test(t);return n||Z.test(t)?z(t.slice(2),n?2:8):P.test(t)?NaN:+t},q=1/0;var B=function(t){return t?(t=V(t))===q||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};var G=u,Q=function(t,e,n){if(!Y(n))return!1;var r=typeof e;return!!("number"==r?k(n)&&T(e,n.length):"string"==r&&e in n)&&_(n[e],t)},R=function(t){var e=B(t),n=e%1;return e==e?n?e-n:e:0},K=Math.ceil,X=Math.max;var tt=function(t,e,n){e=(n?Q(t,e,n):void 0===e)?1:X(R(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var a=0,i=0,s=Array(K(r/e));a<r;)s[i++]=G(t,a,a+=e);return s},et={exports:{}};
/*!
    Copyright (c) 2018 Jed Watson.
    Licensed under the MIT License (MIT), see
    http://jedwatson.github.io/classnames
  */
!function(t){!function(){var e={}.hasOwnProperty;function n(){for(var t=[],r=0;r<arguments.length;r++){var a=arguments[r];if(a){var i=typeof a;if("string"===i||"number"===i)t.push(a);else if(Array.isArray(a)){if(a.length){var s=n.apply(null,a);s&&t.push(s)}}else if("object"===i)if(a.toString===Object.prototype.toString)for(var o in a)e.call(a,o)&&a[o]&&t.push(o);else t.push(a.toString())}}return t.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n}()}(et);var nt=et.exports;const rt=t=>{const{date:e,dayjsMonthStart:n,dayjsMonthEnd:a}=t,i=e.day(),o=nt("hlc-dateitem",{"not-current-month":e.isBefore(n)||e.isAfter(a),"current-date":e.isSame(s(),"day"),weekend:0===i||6===i});return r.default.createElement("div",{key:e.format(),className:o},r.default.createElement("span",{className:"date-text"},e.format("D")),r.default.createElement("div",{className:"hlc-event hlc-event-start"},"事件"))};const at=t=>{const{value:n}=t,a=n.startOf("month"),i=n.endOf("month"),[s,o]=e.useState([]);return e.useEffect((()=>{const t=n.startOf("month").startOf("week"),e=t.add(42,"days"),r=[];for(let n=t;n.valueOf()<e.valueOf();n=n.add(1,"day"))r.push(n);o(tt(r,7))}),[n]),r.default.createElement("div",{className:"hlc-datepanel"},s.map(((t,e)=>r.default.createElement("div",{key:e,className:"hlc-daterow"},t.map((t=>r.default.createElement(rt,{key:t.format(),date:t,dayjsMonthEnd:i,dayjsMonthStart:a})))))))};const it=()=>r.default.createElement("div",{className:"hlc-daypanel"},["日","一","二","三","四","五","六"].map((t=>r.default.createElement("div",{key:t,className:"hlc-daypanel-item"},"星期",t))));t.Datepanel=at,t.Datepicker=o,t.default=t=>{const{defaultCurrentDate:n,currentDate:a,onChange:i,eventList:u}=t;console.log(u);const[c,l]=e.useState(s());e.useEffect((()=>{l(a||n||s())}),[a]);return r.default.createElement("div",{className:"hlc-calendar"},r.default.createElement(o,{value:c,onChange:t=>{l(a||t),"function"==typeof i&&i(t)}}),r.default.createElement(it,null),r.default.createElement(at,{value:c}))},Object.defineProperty(t,"__esModule",{value:!0}),t[Symbol.toStringTag]="Module"}));
